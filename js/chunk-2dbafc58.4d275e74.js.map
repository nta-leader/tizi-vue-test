{"version":3,"sources":["webpack:///./src/components/public/user/page/store/Store.vue?85e3","webpack:///./src/components/public/user/page/store/Store.vue?cd44","webpack:///src/components/public/user/page/store/Store.vue","webpack:///./src/components/public/user/page/store/Store.vue?aa4d","webpack:///./src/components/public/user/page/store/Store.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","preventDefault","updateStore","_v","directives","name","rawName","value","user","expression","attrs","domProps","editUrl","target","composing","$set","_s","errors","first","checUrlStore","url_store","staticStyle","_e","staticRenderFns","component"],"mappings":"kHAAA,yBAAohB,EAAG,G,2CCAvhB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,YAAYF,MAAW,CAACL,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIY,GAAG,mBAAmBR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAe,WAAEC,WAAW,mBAAmB,CAACJ,KAAK,WAAWC,QAAQ,aAAaC,MAAM,WAAaE,WAAW,eAAeZ,YAAY,eAAea,MAAM,CAAC,KAAO,aAAa,KAAO,OAAO,YAAc,yBAAyBC,SAAS,CAAC,MAASpB,EAAIiB,KAAe,YAAGT,GAAG,CAAC,MAAQR,EAAIqB,QAAQ,MAAQ,SAASZ,GAAWA,EAAOa,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,aAAcR,EAAOa,OAAON,WAAWZ,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAGZ,EAAIyB,GAAGzB,EAAI0B,OAAOC,MAAM,oBAAoBvB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIY,GAAG,eAAeR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAc,UAAEC,WAAW,kBAAkB,CAACJ,KAAK,WAAWC,QAAQ,aAAaC,MAAM,wCAA0CE,WAAW,4CAA4CZ,YAAY,eAAea,MAAM,CAAC,KAAO,YAAY,KAAO,OAAO,YAAc,2BAA2BC,SAAS,CAAC,MAASpB,EAAIiB,KAAc,WAAGT,GAAG,CAAC,MAAQR,EAAI4B,aAAa,MAAQ,SAASnB,GAAWA,EAAOa,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,YAAaR,EAAOa,OAAON,WAAWZ,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIY,GAAG,WAAWZ,EAAIyB,GAAGzB,EAAIiB,KAAKY,WAAW,KAAM7B,EAAS,MAAEI,EAAG,IAAI,CAAC0B,YAAY,CAAC,MAAQ,QAAQ,CAAC9B,EAAIY,GAAG,gCAAgCZ,EAAI+B,OAAO3B,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAGZ,EAAIyB,GAAGzB,EAAI0B,OAAOC,MAAM,qBAAqB3B,EAAIO,GAAG,UACl1DyB,EAAkB,CAAC,WAAa,IAAIhC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIY,GAAG,4BAA4B,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBa,MAAM,CAAC,KAAO,WAAW,CAACnB,EAAIY,GAAG,a,8ECiCra,GACE,SADF,WAEA,OACA,kBACA,WACA,UACA,UAIE,KAVF,WAWI,MAAJ,CACM,IAAN,4BACM,MAAN,KACM,KAAN,CACQ,WAAR,KACQ,UAAR,MAEM,WAAN,CACQ,GAAR,CACU,OAAV,CACY,WAAZ,CACc,SAAd,yCAGY,UAAZ,CACc,SAAd,4BACc,IAAd,mCACc,MAAd,kEAOE,SAAF,kBACA,6BAEE,QAAF,CACI,QADJ,SACA,GACM,KAAN,2DACM,KAAN,gBAEI,aALJ,WAKM,IAAN,iEACM,EAAN,wCACQ,QAAR,CAAU,cAAV,2CACQ,OAAR,CACU,UAAV,wCAGA,kBACA,0BACA,eAGI,YAjBJ,WAiBM,IAAN,OACM,KAAN,wCACA,IACU,EAAV,YACY,MAAZ,qBACY,KAAZ,iBACY,mBAAZ,IAEU,EAAV,oBACU,EAAV,+CACY,WAAZ,kBACY,UAAZ,kBACA,CACY,QAAZ,CAAc,cAAd,0CAEA,kBACY,EAAZ,cACA,gBACc,EAAd,gCAAgB,QAAhB,MACc,EAAd,6CACc,EAAd,gDAEA,gCAAc,QAAd,eAME,QAnFF,WAoFI,KAAJ,wCACI,KAAJ,sCAEI,EAAJ,+BACI,IAAJ,cAAM,WAAN,UACI,EAAJ,iBC3H2Y,I,wBCQvYqB,EAAY,eACd,EACAlC,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2dbafc58.4d275e74.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Store.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Store.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box box-primary\"},[_vm._m(0),_c('div',{staticClass:\"box-body no-padding\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateStore($event)}}},[_c('div',{staticClass:\"box-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Tên gian hàng\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name_store),expression:\"user.name_store\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"name_store\",\"type\":\"text\",\"placeholder\":\"Nhập tên gian hàng...\"},domProps:{\"value\":(_vm.user.name_store)},on:{\"keyup\":_vm.editUrl,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name_store\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"name_store\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Đường đẫn\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.url_store),expression:\"user.url_store\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:4|regex:^[a-zA-Z0-9-.]*$'),expression:\"'required|min:4|regex:^[a-zA-Z0-9-.]*$'\"}],staticClass:\"form-control\",attrs:{\"name\":\"url_store\",\"type\":\"text\",\"placeholder\":\"Nhập địa chỉ liên hệ...\"},domProps:{\"value\":(_vm.user.url_store)},on:{\"keyup\":_vm.checUrlStore,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"url_store\", $event.target.value)}}}),_c('span',{staticClass:\"url-store\"},[_vm._v(\"tizi.vn/\"+_vm._s(_vm.user.url_store)+\" \"),(_vm.isUrl)?_c('i',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Đường dẫn đã được sử dụng!\")]):_vm._e()]),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"url_store\")))])])]),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-header with-border\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Thông tin gian hàng\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Lưu\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"box box-primary\">\n        <div class=\"box-header with-border\">\n            <h3 class=\"box-title\">Thông tin gian hàng</h3>\n        </div>\n        <div class=\"box-body no-padding\">\n            <form v-on:submit.prevent=\"updateStore\">\n                <div class=\"box-body\">\n                    <div class=\"form-group\">\n                        <label >Tên gian hàng</label>\n                        <input v-model=\"user.name_store\" v-on:keyup=\"editUrl\" v-validate=\"'required'\" name=\"name_store\" type=\"text\" class=\"form-control\" placeholder=\"Nhập tên gian hàng...\">\n                        <span class=\"error\">{{ errors.first(\"name_store\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label>Đường đẫn</label>\n                        <input v-model=\"user.url_store\" v-on:keyup=\"checUrlStore\" v-validate=\"'required|min:4|regex:^[a-zA-Z0-9-.]*$'\" name=\"url_store\" type=\"text\" class=\"form-control\" placeholder=\"Nhập địa chỉ liên hệ...\">\n                        <span class=\"url-store\">tizi.vn/{{ user.url_store }} <i v-if=\"isUrl\" style=\"color:red;\">Đường dẫn đã được sử dụng!</i></span>\n                        <span class=\"error\">{{ errors.first(\"url_store\") }}</span>\n                    </div>\n                </div>\n                <div class=\"box-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Lưu</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport slug from \"slug\";\nimport {mapGetters} from \"vuex\";\nimport {Validator} from \"vee-validate\";\nimport axios from 'axios';\n\nexport default {\n    metaInfo(){\n\t\treturn {\n\t\t\ttitle: \"Gian hàng\",\n\t\t\thtmlAttrs: {\n\t\t\t\tlang: 'vi',\n\t\t\t\tamp: true\n\t\t\t}\n\t\t}\n\t},\n    data(){\n        return {\n            api: this.$store.state.domainApi,\n            isUrl:null,\n            user:{\n                name_store: null,\n                url_store:null\n            },\n            dictionary:{\n                vi: {\n                    custom: {\n                        \"name_store\":{\n                            required: \"Vui lòng nhập tên gian hàng của bạn !\"\n                            \n                        },\n                        \"url_store\": {\n                            required: \"Vui lòng nhập đường dẫn !\",\n                            min: \"Tên gian hàng tối thiểu 4 ký tự!\",\n                            regex: \"Vui lòng nhâp tên đường dẫn không dấu, có thể có đấu '-'!\"\n                        }\n                    }\n                }\n            }\n        }\n    },\n    computed: {\n        ...mapGetters(['getUser'])\n    },\n    methods: {\n        editUrl(e){\n            this.user.url_store = slug(e.target.value.toLocaleLowerCase(), '-');\n            this.checUrlStore();\n        },\n        checUrlStore(e=false){\n            axios.get(this.api+\"/auth/check-url-store\",{\n                headers:{ Authorization: `Bearer ${this.$store.state.token}` },\n                params:{\n                    url_store: e ? e.target.value : this.user.url_store\n                }\n            })\n            .then(response=>{\n                if(response.data.success) this.isUrl = false;\n                else this.isUrl = true;\n            });\n        },\n        updateStore(){\n            this.$validator.validate().then(valid => {\n                if(valid){\n                    this.$swal.fire({\n                        title: 'Đang sửa thông tin',\n                        text: \"Vui lòng chờ !\",\n                        allowOutsideClick: false\n                    });\n                    this.$swal.showLoading();\n                    axios.patch(`${this.api}/auth/update-store`, {\n                        name_store: this.user.name_store,\n                        url_store: this.user.url_store\n                    },{\n                        headers:{ Authorization: `Bearer ${this.$store.state.token}` }\n                    })\n                    .then(response=>{\n                        this.$swal.close();\n                        if(response.data.success){\n                            this.flash(response.data.message, 'success', { timeout: 3000 });\n                            this.$store.state.user.url_store = this.user.url_store;\n                            this.$store.state.user.name_store = this.user.name_store;\n                        }\n                        else this.flash(response.data.message, 'error', { timeout: 3000 });\n                    });\n                }\n            });\n        }\n    },\n    mounted() {\n        this.user.name_store = this.getUser.name_store;\n        this.user.url_store = this.getUser.url_store;\n\n        Validator.localize(this.dictionary);\n        const validator = new Validator({ first_name: 'alpha' });\n        validator.localize('vi');\n    }\n}\n</script>\n\n<style>\n    .url-store{\n        display: block;\n        content: \"Đường dẫn: \"\n    }\n    .error{\n        color: red;\n    }\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Store.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Store.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Store.vue?vue&type=template&id=d77402d6&\"\nimport script from \"./Store.vue?vue&type=script&lang=js&\"\nexport * from \"./Store.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Store.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}