(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77f3ca2c"],{"039a":function(e,t,a){"use strict";var s=a("7174"),r=a.n(s);r.a},"578a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"container"},[a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-box-body"},[a("p",{staticClass:"login-box-msg"},[e._v("Đăng nhập vào tizi")]),a("form",{attrs:{action:"javascript:void(0)"},on:{submit:e.login}},[a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"username",type:"text",placeholder:"Tên đăng nhập, SDT hoặc email"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),a("span",{staticClass:"glyphicon glyphicon-envelope form-control-feedback"}),a("span",{staticClass:"error"},[e._v(e._s(e.errors.first("username")))])]),a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"password",type:"password",placeholder:"Mật khẩu"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("span",{staticClass:"glyphicon glyphicon-lock form-control-feedback"}),a("span",{staticClass:"error"},[e._v(e._s(e.errors.first("password")))])]),e._m(0)]),a("router-link",{attrs:{to:{name:"forgotpassword"}}},[e._v("Quên mật khẩu")]),a("br"),a("router-link",{staticClass:"text-center",attrs:{to:{name:"register"}}},[e._v("Đăng ký tài khoản")])],1)])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-xs-6"}),a("div",{staticClass:"col-md-4 col-xs-6"},[a("button",{staticClass:"btn btn-primary btn-block btn-flat",attrs:{type:"submit"}},[e._v("Đăng nhập")])])])}],n=(a("96cf"),a("1da1")),o=a("7bb1"),i=a("bc3a"),c=a.n(i),u={data:function(){return{api:this.$store.state.domainApi,user:{username:"",password:""},dictionary:{vi:{custom:{username:{required:"Vui lòng nhập tài khoản hoăc email !"},password:{required:"Vui lòng nhập mật khẩu !"}}}}}},methods:{login:function(){var e=this;this.$validator.validate().then(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=20;break}return t.next=3,c.a.post("".concat(e.api,"/auth/login"),e.user);case 3:if(s=t.sent,1!==s.data.success){t.next=19;break}if(localStorage.token=s.data.token,e.$store.state.token=s.data.token,e.$store.state.user=s.data.user,e.flash(s.data.message,"success",{timeout:3e3}),e.$store.commit("setDataAfterLogin",s.data.user.id),r={name:"home"},!localStorage.id_product){t.next=16;break}return n=JSON.parse(localStorage.id_product),t.next=15,c.a.patch("".concat(e.api,"/auth/update-user-product"),{id_user:s.data.user.id,id_product:n});case 15:localStorage.removeItem("id_product");case 16:e.$router.push(r),t.next=20;break;case 19:e.$swal(s.data.message,"","error");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},created:function(){o["a"].localize(this.dictionary);var e=new o["a"]({first_name:"alpha"});e.localize("vi")}},l=u,d=(a("039a"),a("2877")),p=Object(d["a"])(l,s,r,!1,null,null,null);t["default"]=p.exports},7174:function(e,t,a){}}]);
//# sourceMappingURL=chunk-77f3ca2c.6384d356.js.map