{"version":3,"sources":["webpack:///./src/components/Login.vue?ac7f","webpack:///./src/components/Login.vue?c833","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?2227","webpack:///./src/components/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","login","directives","name","rawName","value","user","expression","domProps","$event","target","composing","$set","_s","errors","first","_m","staticRenderFns","component"],"mappings":"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","file":"js/chunk-77f3ca2c.6384d356.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-box-body\"},[_c('p',{staticClass:\"login-box-msg\"},[_vm._v(\"Đăng nhập vào tizi\")]),_c('form',{attrs:{\"action\":\"javascript:void(0)\"},on:{\"submit\":_vm.login}},[_c('div',{staticClass:\"form-group has-feedback\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"username\",\"type\":\"text\",\"placeholder\":\"Tên đăng nhập, SDT hoặc email\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value)}}}),_c('span',{staticClass:\"glyphicon glyphicon-envelope form-control-feedback\"}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"username\")))])]),_c('div',{staticClass:\"form-group has-feedback\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"Mật khẩu\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('span',{staticClass:\"glyphicon glyphicon-lock form-control-feedback\"}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"password\")))])]),_vm._m(0)]),_c('router-link',{attrs:{\"to\":{name: 'forgotpassword'}}},[_vm._v(\"Quên mật khẩu\")]),_c('br'),_c('router-link',{staticClass:\"text-center\",attrs:{\"to\":{name: 'register'}}},[_vm._v(\"Đăng ký tài khoản\")])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8 col-xs-6\"}),_c('div',{staticClass:\"col-md-4 col-xs-6\"},[_c('button',{staticClass:\"btn btn-primary btn-block btn-flat\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Đăng nhập\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"content-wrapper\">\n    <div class=\"container\">\n        <div class=\"login-box\">\n            <div class=\"login-box-body\">\n                <p class=\"login-box-msg\">Đăng nhập vào tizi</p>\n                <form v-on:submit=\"login\" action=\"javascript:void(0)\">\n                    <div class=\"form-group has-feedback\">\n                        <input v-model=\"user.username\" name=\"username\" v-validate=\"'required'\" type=\"text\" class=\"form-control\" placeholder=\"Tên đăng nhập, SDT hoặc email\" />\n                        <span class=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n                        <span class=\"error\">{{ errors.first(\"username\") }}</span>\n                    </div>\n                    <div class=\"form-group has-feedback\">\n                        <input v-model=\"user.password\" name=\"password\" v-validate=\"'required'\" type=\"password\" class=\"form-control\" placeholder=\"Mật khẩu\" />\n                        <span class=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n                        <span class=\"error\">{{ errors.first(\"password\") }}</span>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-8 col-xs-6\">\n                            <!-- <a href=\"#\" class=\"btn btn-facebook\" style=\"margin-right:5px;\">\n                                <i class=\"fa fa-facebook\"></i>\n                            </a>\n                            <a href=\"#\" class=\"btn btn-google\">\n                                <i class=\"fa fa-google-plus\"></i>\n                            </a> -->\n                        </div>\n                        <div class=\"col-md-4 col-xs-6\">\n                            <button type=\"submit\" class=\"btn btn-primary btn-block btn-flat\">Đăng nhập</button>\n                        </div>\n                    </div>\n                </form>\n                <router-link :to=\"{name: 'forgotpassword'}\" >Quên mật khẩu</router-link>\n                <br />\n                <router-link :to=\"{name: 'register'}\" class=\"text-center\">Đăng ký tài khoản</router-link>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { Validator } from \"vee-validate\";\nimport axios from 'axios';\n\nexport default {\n    data(){\n        return {\n            api: this.$store.state.domainApi,\n            user:{\n                username:'',\n                password:''\n            },\n            dictionary: {\n                vi: {\n                    custom: {\n                        \"username\":{\n                            required: \"Vui lòng nhập tài khoản hoăc email !\"\n                        },\n                        \"password\":{\n                            required: \"Vui lòng nhập mật khẩu !\"\n                        }\n                    }\n                }\n            }\n        }\n    },\n    methods: {\n        login(){\n            this.$validator.validate().then(async valid => {\n                if(valid){\n                    const user = await axios.post(`${this.api}/auth/login`, this.user);\n                    if(user.data.success===1){\n                        localStorage.token = user.data.token;\n                        this.$store.state.token = user.data.token;\n                        this.$store.state.user = user.data.user;\n                        this.flash(user.data.message, 'success', {\n                            timeout: 3000\n                        });\n                        this.$store.commit('setDataAfterLogin', user.data.user.id);\n                        var redirect = {name:'home'}; //this.$store.state.route ? this.$store.state.route : {name:'home'};\n\n                        if(localStorage.id_product){\n                            var id_product = JSON.parse(localStorage.id_product);\n                            await axios.patch(`${this.api}/auth/update-user-product`,{\n                                id_user: user.data.user.id,\n                                id_product: id_product\n                            });\n                            localStorage.removeItem('id_product');\n                        }\n                        \n                        this.$router.push(redirect);\n                    }else this.$swal(user.data.message,\"\", \"error\");\n                }\n            })\n            .catch(error=>{\n                console.log(error);\n            });\n        }\n    },\n    created(){\n        Validator.localize(this.dictionary);\n        const validator = new Validator({ first_name: 'alpha' });\n        validator.localize('vi');\n    }\n}\n</script>\n\n<style>\n.error{\n    display: block;\n    color: red;\n    margin-left: 1px;\n}\n.content-wrapper{\n    min-height: 682px;\n}\n@media(max-width: 768px){\n    .content-wrapper{\n        min-height: 100%;\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0c299d47&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}