{"version":3,"sources":["webpack:///./src/components/admin/category/Index.vue?3eab","webpack:///./src/components/admin/category/Droupdown.vue?828e","webpack:///src/components/admin/category/Droupdown.vue","webpack:///./src/components/admin/category/Droupdown.vue?e3eb","webpack:///./src/components/admin/category/Droupdown.vue","webpack:///src/components/admin/category/Index.vue","webpack:///./src/components/admin/category/Index.vue?ec87","webpack:///./src/components/admin/category/Index.vue","webpack:///./src/components/admin/category/Index.vue?2577","webpack:///./src/components/admin/category/Droupdown.vue?17c8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","on","$event","add","_v","_l","item","index","key","category","staticRenderFns","click","id","parent","class","isOpenItem","_e","_s","name","edit","del","stt","directives","rawName","value","expression","child","component"],"mappings":"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","file":"js/chunk-c64be634.2ae406a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_vm._m(0),_c('div',{staticClass:\"box-body\"},[_c('div',{attrs:{\"id\":\"sidebar\"}},[_c('ul',{attrs:{\"id\":\"navigation\"}},[_c('li',[_c('div',{staticClass:\"title\",on:{\"click\":function($event){return _vm.add(0)}}},[_vm._v(\" Thêm \")])]),_vm._l((_vm.category),function(item,index){return _c('li',{key:'item' + index},[_c('Dropdown',{attrs:{\"item\":item,\"stt\":index,\"category\":_vm.category}})],1)})],2)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-header with-border\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Danh sách các danh mục\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\",on:{\"click\":function($event){return _vm.click(_vm.item.id)}}},[(_vm.item.parent.length)?_c('i',{class:{'fa fa-chevron-right': !_vm.isOpenItem, 'fa fa-chevron-down': _vm.isOpenItem}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.item.name)+\" \")]),_c('div',{staticClass:\"control\"},[_c('a',{staticClass:\"add\",on:{\"click\":function($event){return _vm.add(_vm.item.id)}}},[_vm._v(\"Thêm\")]),_c('a',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.edit(_vm.item.id)}}},[_vm._v(\"Sửa\")]),_c('a',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.del(_vm.stt, _vm.item.id)}}},[_vm._v(\"Xóa\")])]),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.item.parent.length),expression:\"item.parent.length\"}],class:{ 'sub-items': true}},_vm._l((_vm.item.parent),function(child,index){return _c('li',{key:'item' + index,staticClass:\"sub-item\"},[_c('transition',{attrs:{\"name\":\"expand\"}},[(_vm.isOpenItem)?_c('Dropdown',{attrs:{\"item\":child,\"stt\":index,\"category\":_vm.category}}):_vm._e()],1)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"title\" @click=\"click(item.id)\">\n            <i v-if=\"item.parent.length\" v-bind:class=\"{'fa fa-chevron-right': !isOpenItem, 'fa fa-chevron-down': isOpenItem}\"></i>\n            {{ item.name }}\n        </div>\n        <div class=\"control\">\n            <a v-on:click=\"add(item.id)\" class=\"add\">Thêm</a>\n            <a v-on:click=\"edit(item.id)\" class=\"edit\">Sửa</a>\n            <a v-on:click=\"del(stt, item.id)\" class=\"delete\">Xóa</a>\n        </div>\n        <ul v-show=\"item.parent.length\" :class=\"{ 'sub-items': true}\">\n            <li v-for=\"(child, index) in item.parent\" :key=\"'item' + index\" class=\"sub-item\">\n                <transition name=\"expand\">\n                <Dropdown v-if=\"isOpenItem\" :item=\"child\" :stt=\"index\" :category=\"category\"/>\n                </transition>\n            </li>\n        </ul>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n    name: \"Dropdown\",\n    props: [\n        'item',\n        'stt',\n        'category'\n    ],\n    data(){\n        return {\n            api: this.$store.state.domainApi,\n            isOpenItem: false,\n        }\n    },\n    methods:{\n        click(id){\n            this.isOpenItem = !this.isOpenItem;\n            if(this.isOpenItem==false){\n                this.sort(this.$store.state.admin.isOpen, this.item.id);\n            }\n            var isOpen = this.$store.state.admin.isOpen;\n            isOpen[id] = {\n                id: id,\n                status: this.isOpenItem,\n                parent_id: this.item.parent_id\n            };\n            localStorage.isOpen = JSON.stringify(isOpen);\n        },\n        add(id){\n            return this.$router.push({name:\"route.admin.category.add2\", params: { id: id }});\n        },\n        edit(id){\n           return this.$router.push({name:\"route.admin.category.edit\", params: { id: id }}); \n        },\n        del(index, id){\n            this.$swal.fire({\n                title: 'Bạn có muốn xóa danh mục',\n                text: \"Xóa toàn bộ danh mục con và sản phẩm\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                cancelButtonText: 'Không, Chưa xóa !',\n                confirmButtonText: 'Có, Xóa hết !'\n            }).then((result) => {\n                if (result.value) {\n                    axios.delete(`${this.api}/admin/category/${id}`,{\n                        headers: {\n                            Authorization: `Bearer ${localStorage.token}`\n                        }\n                    })\n                    .then(response => {\n                        if(response.data.success===1){\n                            this.category.splice(index, 1);\n                            this.flash(response.data.message, 'success', {\n                                timeout: 3000\n                            });\n                        }else{\n                            this.flash(response.data.message, 'error', {\n                                timeout: 3000\n                            });\n                        }\n                    })\n                    .catch(e => {\n                        console.log(e);\n                    });\n                }\n            });\n        },\n        sort(data, parent_id){\n            for(var key in data){\n                if(data[key].parent_id == parent_id){\n                    data[key].status = false;\n                    this.sort(data, data[key].id);\n                }\n            }\n        }\n    },\n    created(){\n        if(this.$store.state.admin.isOpen[this.item.id]){\n            this.isOpenItem = this.$store.state.admin.isOpen[this.item.id].status;\n        }\n    }\n}\n</script>\n<style>\n.sub-items{\n    list-style: none;\n    cursor: pointer;\n}\n.sub-items .sub-item li{\n    position: relative;\n}\n.sub-items .sub-item .title{\n    padding: 10px 0;\n    text-indent: 20px;\n}\n.sub-items .sub-item i{\n    position: absolute;\n    top: 12px;\n    right: 10px;\n}\n\n.expand-enter-active{\n    animation: expand-in 0.4s forwards;\n}\n.expand-leave-active{\n    animation: expand-out 0.4s forwards;\n}\n@keyframes expand-in{\n    from{\n        opacity: 0;\n        height: 0;\n    }\n    to{\n        opacity: 1;\n        height: 40px;\n    }\n}\n@keyframes expand-out{\n    from{\n        opacity: 1;\n        height: 40px;\n    }\n    to{\n        opacity: 0;\n        height: 0;\n    }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Droupdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Droupdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Droupdown.vue?vue&type=template&id=57e75a28&\"\nimport script from \"./Droupdown.vue?vue&type=script&lang=js&\"\nexport * from \"./Droupdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Droupdown.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"box\">\n        <div class=\"box-header with-border\">\n            <h3 class=\"box-title\">Danh sách các danh mục</h3>\n        </div>\n        <div class=\"box-body\">\n            <div id=\"sidebar\">\n                <ul id=\"navigation\">\n                    <li><div v-on:click=\"add(0)\" class=\"title\"> Thêm </div></li>\n                    <li v-for=\"(item, index) in category\" :key=\"'item' + index\">\n                        <Dropdown :item=\"item\" :stt=\"index\" :category=\"category\"/>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <!-- /.box-body -->\n    </div>\n</template>\n\n<script>\nimport Dropdown from \"./Droupdown\";\nimport axios from \"axios\";\n\nexport default {\n    name: \"CategoryComponent\",\n    metaInfo: {\n        title: \"Quản lý danh mục\"\n    },\n    components: {\n        Dropdown\n    },\n    data(){\n        return {\n            api: this.$store.state.domainApi,\n            token: this.$store.state.token,\n            category:[],\n        }\n    },\n    methods:{\n        add(id){\n           return this.$router.push({name:\"route.admin.category.add2\", params: { id: id }}); \n        },\n        formatJson(data, parent_id=0){\n            var parent = [];\n            for(var item of data){\n                if(item.parent_id===parent_id){\n                    var result = this.formatJson(data.filter(e => e.parent_id != parent_id), item.id);\n                    item.parent = result;\n                    parent.push(item);\n                }\n            }\n            return parent;\n        }\n    },\n    created(){\n        axios.get(`${this.api}/admin/category`, {\n            headers: { \n                Authorization: `Bearer ${this.token}` \n            }\n        })\n        .then(response => {\n            if(response.data.success != 0) this.category = this.formatJson(response.data);\n        })\n    }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n#sidebar{\n    width: 100%;\n    max-width: 450px;\n}\n#navigation{\n    list-style: none;\n    cursor: pointer; \n}\n#navigation li{\n    position: relative;\n}\n#navigation .title{\n    padding: 10px 0;\n    text-indent: 40px;\n    outline: 1px dashed #9E9E9E;\n    outline-offset: -2px;\n    -moz-outline-radius: 3px;\n    color: #FF5722;\n}\n#navigation i{\n    position: absolute;\n    top: 12px;\n    left: -24px;\n}\n.subnav{\n    padding-left: 20px; \n}\n.control{\n    display: inline-block;\n    position: absolute;\n    right: 10px;\n    top: 10px;\n}\n.control a{\n    margin: 0px 4px;\n    cursor: pointer;\n    font-weight: 600;\n}\n.control a.add{\n    color: green;\n}\n.control a.edit{\n    color: blue;\n}\n.control a.delete{\n    color: red;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=d0b17e8e&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Droupdown.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Droupdown.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}