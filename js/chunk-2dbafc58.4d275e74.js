(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dbafc58"],{"191a":function(e,t,r){"use strict";var s=r("d55d"),a=r.n(s);a.a},"30ea":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box box-primary"},[e._m(0),r("div",{staticClass:"box-body no-padding"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updateStore(t)}}},[r("div",{staticClass:"box-body"},[r("div",{staticClass:"form-group"},[r("label",[e._v("Tên gian hàng")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name_store,expression:"user.name_store"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"name_store",type:"text",placeholder:"Nhập tên gian hàng..."},domProps:{value:e.user.name_store},on:{keyup:e.editUrl,input:function(t){t.target.composing||e.$set(e.user,"name_store",t.target.value)}}}),r("span",{staticClass:"error"},[e._v(e._s(e.errors.first("name_store")))])]),r("div",{staticClass:"form-group"},[r("label",[e._v("Đường đẫn")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.url_store,expression:"user.url_store"},{name:"validate",rawName:"v-validate",value:"required|min:4|regex:^[a-zA-Z0-9-.]*$",expression:"'required|min:4|regex:^[a-zA-Z0-9-.]*$'"}],staticClass:"form-control",attrs:{name:"url_store",type:"text",placeholder:"Nhập địa chỉ liên hệ..."},domProps:{value:e.user.url_store},on:{keyup:e.checUrlStore,input:function(t){t.target.composing||e.$set(e.user,"url_store",t.target.value)}}}),r("span",{staticClass:"url-store"},[e._v("tizi.vn/"+e._s(e.user.url_store)+" "),e.isUrl?r("i",{staticStyle:{color:"red"}},[e._v("Đường dẫn đã được sử dụng!")]):e._e()]),r("span",{staticClass:"error"},[e._v(e._s(e.errors.first("url_store")))])])]),e._m(1)])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-header with-border"},[r("h3",{staticClass:"box-title"},[e._v("Thông tin gian hàng")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-footer"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Lưu")])])}],n=r("5530"),i=r("d3bd"),o=r.n(i),u=r("2f62"),l=r("7bb1"),c=r("bc3a"),d=r.n(c),h={metaInfo:function(){return{title:"Gian hàng",htmlAttrs:{lang:"vi",amp:!0}}},data:function(){return{api:this.$store.state.domainApi,isUrl:null,user:{name_store:null,url_store:null},dictionary:{vi:{custom:{name_store:{required:"Vui lòng nhập tên gian hàng của bạn !"},url_store:{required:"Vui lòng nhập đường dẫn !",min:"Tên gian hàng tối thiểu 4 ký tự!",regex:"Vui lòng nhâp tên đường dẫn không dấu, có thể có đấu '-'!"}}}}}},computed:Object(n["a"])({},Object(u["b"])(["getUser"])),methods:{editUrl:function(e){this.user.url_store=o()(e.target.value.toLocaleLowerCase(),"-"),this.checUrlStore()},checUrlStore:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d.a.get(this.api+"/auth/check-url-store",{headers:{Authorization:"Bearer ".concat(this.$store.state.token)},params:{url_store:t?t.target.value:this.user.url_store}}).then((function(t){t.data.success?e.isUrl=!1:e.isUrl=!0}))},updateStore:function(){var e=this;this.$validator.validate().then((function(t){t&&(e.$swal.fire({title:"Đang sửa thông tin",text:"Vui lòng chờ !",allowOutsideClick:!1}),e.$swal.showLoading(),d.a.patch("".concat(e.api,"/auth/update-store"),{name_store:e.user.name_store,url_store:e.user.url_store},{headers:{Authorization:"Bearer ".concat(e.$store.state.token)}}).then((function(t){e.$swal.close(),t.data.success?(e.flash(t.data.message,"success",{timeout:3e3}),e.$store.state.user.url_store=e.user.url_store,e.$store.state.user.name_store=e.user.name_store):e.flash(t.data.message,"error",{timeout:3e3})})))}))}},mounted:function(){this.user.name_store=this.getUser.name_store,this.user.url_store=this.getUser.url_store,l["a"].localize(this.dictionary);var e=new l["a"]({first_name:"alpha"});e.localize("vi")}},m=h,_=(r("191a"),r("2877")),p=Object(_["a"])(m,s,a,!1,null,null,null);t["default"]=p.exports},d55d:function(e,t,r){}}]);
//# sourceMappingURL=chunk-2dbafc58.4d275e74.js.map