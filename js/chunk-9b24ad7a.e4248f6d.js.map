{"version":3,"sources":["webpack:///./src/components/public/user/page/profile/EditProfile.vue?943d","webpack:///./src/components/public/user/page/profile/EditProfile.vue?54fb","webpack:///src/components/public/user/page/profile/EditProfile.vue","webpack:///./src/components/public/user/page/profile/EditProfile.vue?9380","webpack:///./src/components/public/user/page/profile/EditProfile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","preventDefault","updateUser","attrs","user","avata","image","api","_v","onChangeImage","directives","name","rawName","value","expression","domProps","target","composing","$set","_s","errors","first","staticRenderFns","component"],"mappings":"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","file":"js/chunk-9b24ad7a.e4248f6d.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box box-primary\"},[_vm._m(0),_c('div',{staticClass:\"box-body no-padding\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateUser($event)}}},[_c('div',{staticClass:\"box-body\"},[_c('div',{staticClass:\"form-group avata_upload\"},[_c('label',{attrs:{\"for\":\"avata_upload\"}},[_c('img',{staticClass:\"img-circle\",attrs:{\"for\":\"avata_upload\",\"src\":_vm.user.avata ? (_vm.image ? _vm.image : _vm.api+'/image/avata/'+_vm.user.avata) : (_vm.image ? _vm.image : '/tizi/img/avata-default.jpg'),\"alt\":\"User Avatar\",\"id\":\"_user_avata\"}}),_c('a',[_vm._v(\"Đổi avata\")])]),_c('input',{attrs:{\"type\":\"file\",\"id\":\"avata_upload\"},on:{\"change\":_vm.onChangeImage}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Họ tên\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.fullname),expression:\"user.fullname\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"fullname\",\"type\":\"text\",\"placeholder\":\"Nhập họ tên...\"},domProps:{\"value\":(_vm.user.fullname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"fullname\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"fullname\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Địa chỉ\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.address),expression:\"user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"address\",\"type\":\"text\",\"placeholder\":\"Nhập địa chỉ liên hệ...\"},domProps:{\"value\":(_vm.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"address\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Facebook\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.facebook),expression:\"user.facebook\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"facebook\",\"type\":\"text\",\"placeholder\":\"Nhập địa chỉ facebook...\"},domProps:{\"value\":(_vm.user.facebook)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"facebook\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"facebook\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Zalo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.zalo),expression:\"user.zalo\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"name\":\"zalo\",\"type\":\"text\",\"placeholder\":\"Nhập địa chỉ zalo hoặc SDT...\"},domProps:{\"value\":(_vm.user.zalo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"zalo\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"zalo\")))])])]),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-header with-border\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Chỉnh sửa thông tin tài khoản\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Lưu\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"box box-primary\">\n        <div class=\"box-header with-border\">\n            <h3 class=\"box-title\">Chỉnh sửa thông tin tài khoản</h3>\n        </div>\n        <div class=\"box-body no-padding\">\n            <form v-on:submit.prevent=\"updateUser\">\n                <div class=\"box-body\">\n                    <div class=\"form-group avata_upload\">\n                        <label for=\"avata_upload\">\n                            <img for=\"avata_upload\" v-bind:src=\"user.avata ? (image ? image : api+'/image/avata/'+user.avata) : (image ? image : '/tizi/img/avata-default.jpg')\" alt=\"User Avatar\" class=\"img-circle\" id=\"_user_avata\">\n                            <a>Đổi avata</a>\n                        </label>\n                        <input v-on:change=\"onChangeImage\" type=\"file\" id=\"avata_upload\">\n                    </div>\n                    <div class=\"form-group\">\n                        <label >Họ tên</label>\n                        <input v-model=\"user.fullname\" v-validate=\"'required'\" name=\"fullname\" type=\"text\" class=\"form-control\" placeholder=\"Nhập họ tên...\">\n                        <span class=\"error\">{{ errors.first(\"fullname\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label >Địa chỉ</label>\n                        <input v-model=\"user.address\" v-validate=\"'required'\" name=\"address\" type=\"text\" class=\"form-control\" placeholder=\"Nhập địa chỉ liên hệ...\">\n                        <span class=\"error\">{{ errors.first(\"address\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label >Facebook</label>\n                        <input v-model=\"user.facebook\" v-validate=\"'required'\" name=\"facebook\" type=\"text\" class=\"form-control\" placeholder=\"Nhập địa chỉ facebook...\">\n                        <span class=\"error\">{{ errors.first(\"facebook\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label >Zalo</label>\n                        <input v-model=\"user.zalo\" v-validate=\"'required'\" name=\"zalo\" type=\"text\" class=\"form-control\" placeholder=\"Nhập địa chỉ zalo hoặc SDT...\">\n                        <span class=\"error\">{{ errors.first(\"zalo\") }}</span>\n                    </div>\n                </div>\n                <div class=\"box-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Lưu</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport {Validator} from \"vee-validate\";\nimport axios from \"axios\";\n\nexport default {\n    metaInfo(){\n\t\treturn {\n\t\t\ttitle: \"Chỉnh sửa thông tin tài khoản\",\n\t\t\thtmlAttrs: {\n\t\t\t\tlang: 'vi',\n\t\t\t\tamp: true\n\t\t\t}\n\t\t}\n\t},\n    data(){\n        return {\n            api: this.$store.state.domainApi,\n            file:null,\n            image:null,\n            user:{\n                avata:'',\n                fullname:'',\n                address:'',\n                facebook:'',\n                zalo:''\n            },\n            dictionary:{\n                vi: {\n                    custom: {\n                        \"fullname\":{\n                            required: \"Vui lòng nhập họ tên !\"\n                        },\n                        \"address\": {\n                            required: \"Vui lòng nhập địa chỉ !\" \n                        },\n                        \"facebook\": {\n                            required: \"Vui lòng nhập link facebook của bạn !\" \n                        },\n                        \"zalo\": {\n                            required: \"Vui lòng nhập zalo của bạn !\" \n                        },\n                    }\n                }\n            }\n        }\n    },\n    methods:{\n        onChangeImage(e){\n            if(!e.target.files[0].type.match('image.*'))\n            return this.$swal('Vui lòng chọn đúng định dạng hình ảnh!','','error');\n            else{\n                this.file = e.target.files[0];\n                const render = new FileReader();\n                render.onload = e => this.image = e.target.result;\n                render.readAsDataURL(e.target.files[0]);\n            }\n        },\n        updateUser(){\n            this.$validator.validate().then(valid => {\n                if (valid) {\n                    const formData = new FormData();\n                    //formData.set(\"username\", this.$store.state.user.username);\n                    formData.set(\"avata\", this.$store.state.user.avata);\n                    formData.append(\"fullname\", this.user.fullname);\n                    formData.append(\"address\", this.user.address);\n                    formData.append(\"facebook\", this.user.facebook);\n                    formData.append(\"zalo\", this.user.zalo);\n                    formData.append(\"image\", this.file);\n                    \n                    axios.patch(`${this.api}/auth/update`, formData,{\n                        headers:{ Authorization: `Bearer ${this.$store.state.token}` }\n                    })\n                    .then(response=>{\n                        if(response.data.success){\n                            this.flash(response.data.message, 'success', {\n                                timeout: 3000\n                            });\n                            this.$store.state.user = response.data.user;\n                            this.$router.push({name: \"user.profile\"});\n                        }else this.flash(response.data.message, 'error', {\n                            timeout: 3000\n                        });\n                    })\n                }\n            });\n        }\n    },\n    computed:{\n        ...mapGetters({aboutUser: 'getUser'})\n    },\n    created(){\n        this.user.avata = this.aboutUser.avata;\n        this.user.fullname = this.aboutUser.fullname;\n        this.user.address = this.aboutUser.address;\n        this.user.facebook = this.aboutUser.facebook;\n        this.user.zalo = this.aboutUser.zalo;\n\n        Validator.localize(this.dictionary);\n        const validator = new Validator({ first_name: 'alpha' });\n        validator.localize('vi');\n    }\n}\n</script>\n\n<style>\n    .error{\n        color: red;\n    }   \n    .form-group.avata_upload{\n        text-align: center;\n    } \n    .form-group.avata_upload label{\n        position: relative;\n    }\n    .form-group.avata_upload label img{\n        height: 100px;\n        width: 100px;\n        object-fit: cover;\n    }\n    .form-group.avata_upload label a{\n        cursor: pointer;\n        position: absolute;\n        bottom: 15px;\n        left: 17px;\n        background: #0000008a;\n        color: white;\n        padding: 0px 4px;\n        border-radius: 2px;\n        font-weight: 500;\n    }\n    .form-group.avata_upload #avata_upload{\n        display: none;\n    } \n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=718f028f&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditProfile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}