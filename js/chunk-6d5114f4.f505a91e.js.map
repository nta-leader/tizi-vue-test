{"version":3,"sources":["webpack:///./src/components/public/user/page/product/EditProduct.vue?570c","webpack:///./src/components/public/user/page/product/EditProduct.vue?1be1","webpack:///src/components/public/user/page/product/EditProduct.vue","webpack:///./src/components/public/user/page/product/EditProduct.vue?b91c","webpack:///./src/components/public/user/page/product/EditProduct.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","preventDefault","editProduct","_v","directives","name","rawName","value","expression","attrs","getProvinceByLv","id","text","changeProvince","model","callback","$$v","province","_s","errors","first","changeDistrict","district","_e","product","domProps","target","composing","$set","getCategorySort","staticStyle","price","number_format","images","length","ref","changeImage","_l","image","index","key","style","backgroundImage","api","is_default","delImg","defaultImage","customToolbar","staticRenderFns","component"],"mappings":"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","file":"js/chunk-6d5114f4.f505a91e.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box box-primary\"},[_vm._m(0),_c('div',{staticClass:\"box-body no-padding\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.editProduct($event)}}},[_c('div',{staticClass:\"box-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Tỉnh thành\")]),_c('Select2',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('numeric'),expression:\"'numeric'\"}],staticClass:\"input\",attrs:{\"name\":\"province\",\"options\":_vm.getProvinceByLv(0, { id:'chon-thanh-pho', text:'---Chọn thành phố---'})},on:{\"change\":function($event){return _vm.changeProvince($event)}},model:{value:(_vm.province),callback:function ($$v) {_vm.province=$$v},expression:\"province\"}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"province\")))])],1),_c('transition',{attrs:{\"name\":\"district\"}},[(_vm.province != 'chon-thanh-pho')?_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Quận huyện\")]),_c('Select2',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('numeric'),expression:\"'numeric'\"}],staticClass:\"input\",attrs:{\"name\":\"district\",\"options\":_vm.getProvinceByLv(_vm.province, { id: 'chon-quan-huyen', text:'---Chọn quận huyện---'})},on:{\"change\":function($event){return _vm.changeDistrict($event)}},model:{value:(_vm.district),callback:function ($$v) {_vm.district=$$v},expression:\"district\"}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"district\")))])],1):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Địa chỉ\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.address),expression:\"product.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:5|max:255'),expression:\"'required|min:5|max:255'\"}],staticClass:\"form-control input\",attrs:{\"name\":\"address\",\"type\":\"text\",\"placeholder\":\"Số nhà, phường xã,..\"},domProps:{\"value\":(_vm.product.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.product, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"address\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Chuyên mục\")]),_c('Select2',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('numeric'),expression:\"'numeric'\"}],staticClass:\"input\",attrs:{\"name\":\"category\",\"options\":_vm.getCategorySort(true)},model:{value:(_vm.product.id_category),callback:function ($$v) {_vm.$set(_vm.product, \"id_category\", $$v)},expression:\"product.id_category\"}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"category\")))])],1),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Tiêu đề tin\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.name),expression:\"product.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:5|max:60'),expression:\"'required|min:5|max:60'\"}],staticClass:\"form-control input\",attrs:{\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"Vd: Điện thoại cũ giá rẻ\"},domProps:{\"value\":(_vm.product.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.product, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"name\")))])]),_c('div',{staticClass:\"form-group\",staticStyle:{\"position\":\"relative\"}},[_c('label',[_vm._v(\"Giá\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.price),expression:\"product.price\"},{name:\"validate\",rawName:\"v-validate\",value:('required|numeric|min_value:0|max:15'),expression:\"'required|numeric|min_value:0|max:15'\"}],staticClass:\"form-control input\",attrs:{\"name\":\"price\",\"type\":\"text\",\"placeholder\":\"Vd: 10000\"},domProps:{\"value\":(_vm.product.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.product, \"price\", $event.target.value)}}}),(_vm.product.price > 0)?_c('span',{staticClass:\"format-price\"},[_vm._v(_vm._s(_vm.number_format(_vm.product.price, 0))+\" đ\")]):_vm._e(),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"price\")))])]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"SDT\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.product.phone),expression:\"product.phone\"},{name:\"validate\",rawName:\"v-validate\",value:('required|numeric|min:10|max:10'),expression:\"'required|numeric|min:10|max:10'\"}],staticClass:\"form-control input\",attrs:{\"name\":\"phone\",\"type\":\"text\",\"placeholder\":\"Nhập SDT...\"},domProps:{\"value\":(_vm.product.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.product, \"phone\", $event.target.value)}}}),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"phone\")))])]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-header\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Hình ảnh\")]),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"image\")))])]),_c('div',{staticClass:\"box-body\"},[_c('div',{staticClass:\"uploader\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.images.length),expression:\"images.length\"}],staticClass:\"upload-controller\"},[_c('label',{attrs:{\"for\":\"file\"}},[_vm._v(\"Thêm hình\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.images.length),expression:\"!images.length\"}],staticClass:\"form-img\"},[_c('label',{attrs:{\"for\":\"file\"}},[_vm._v(\"Bấm vào đây chọn hình ảnh !\")]),_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('image'),expression:\"'image'\"}],ref:\"file\",attrs:{\"name\":\"image\",\"type\":\"file\",\"id\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.changeImage}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.images.length),expression:\"images.length\"}],staticClass:\"images-preview\"},_vm._l((_vm.images),function(image,index){return _c('div',{key:index,staticClass:\"img-wrapper\"},[_c('div',{staticClass:\"img\",style:({backgroundImage: 'url('+ _vm.api +'/image/product/' + image.name +')'})}),(image.is_default!=1)?_c('a',{on:{\"click\":function($event){return _vm.delImg(index)}}},[_vm._v(\"xóa\")]):_vm._e(),(image.is_default != 1)?_c('div',{staticClass:\"btndefault\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.defaultImage(index)}}},[_vm._v(\"Đặt ảnh mặc định\")])]):_vm._e()])}),0)])])]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"box-header\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Nội dung\")]),_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errors.first(\"content\")))])]),_c('div',{staticClass:\"box-body\"},[_c('vue-editor',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|min:5'),expression:\"'required|min:5'\"}],attrs:{\"name\":\"content\",\"editor-toolbar\":_vm.customToolbar},model:{value:(_vm.product.content),callback:function ($$v) {_vm.$set(_vm.product, \"content\", $$v)},expression:\"product.content\"}})],1)])],1),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-header with-border\"},[_c('h3',{staticClass:\"box-title\"},[_vm._v(\"Chỉnh sửa thông tin sản phẩm\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Sửa\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"box box-primary\">\n        <div class=\"box-header with-border\">\n            <h3 class=\"box-title\">Chỉnh sửa thông tin sản phẩm</h3>\n        </div>\n        <div class=\"box-body no-padding\">\n            <form v-on:submit.prevent=\"editProduct\">\n                <div class=\"box-body\">\n                    <div class=\"form-group\">\n                        <label>Tỉnh thành</label>\n                        <Select2 v-model=\"province\" name=\"province\" v-validate=\"'numeric'\" \n                        :options=\"getProvinceByLv(0, { id:'chon-thanh-pho', text:'---Chọn thành phố---'})\" \n                        @change=\"changeProvince($event)\" class=\"input\" />\n                        <span class=\"error\">{{ errors.first(\"province\") }}</span>\n                    </div>\n                    <transition name=\"district\">\n                    <div v-if=\"province != 'chon-thanh-pho'\" class=\"form-group\">\n                        <label>Quận huyện</label>\n                        <Select2 v-model=\"district\" name=\"district\" v-validate=\"'numeric'\"\n                        :options=\"getProvinceByLv(province, { id: 'chon-quan-huyen', text:'---Chọn quận huyện---'})\"\n                        @change=\"changeDistrict($event)\" class=\"input\"/>\n                        <span class=\"error\">{{ errors.first(\"district\") }}</span>\n                    </div>\n                    </transition>\n                    <div class=\"form-group\">\n                        <label>Địa chỉ</label>\n                        <input v-model=\"product.address\" name=\"address\" v-validate=\"'required|min:5|max:255'\" type=\"text\" class=\"form-control input\" placeholder=\"Số nhà, phường xã,..\">\n                        <span class=\"error\">{{ errors.first(\"address\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label>Chuyên mục</label>\n                        <Select2 v-model=\"product.id_category\" name=\"category\" v-validate=\"'numeric'\"\n                        :options=\"getCategorySort(true)\"\n                        class=\"input\"/>\n                        <span class=\"error\">{{ errors.first(\"category\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label>Tiêu đề tin</label>\n                        <input v-model=\"product.name\" name=\"name\" v-validate=\"'required|min:5|max:60'\" type=\"text\" class=\"form-control input\" placeholder=\"Vd: Điện thoại cũ giá rẻ\">\n                        <span class=\"error\">{{ errors.first(\"name\") }}</span>\n                    </div>\n                    <div class=\"form-group\" style=\"position: relative;\">\n                        <label>Giá</label>\n                        <input v-model=\"product.price\" name=\"price\" v-validate=\"'required|numeric|min_value:0|max:15'\" type=\"text\" class=\"form-control input\" placeholder=\"Vd: 10000\">\n                        <span v-if=\"product.price > 0\" class=\"format-price\">{{ number_format(product.price, 0) }} đ</span>\n                        <span class=\"error\">{{ errors.first(\"price\") }}</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <label>SDT</label>\n                        <input v-model=\"product.phone\" name=\"phone\" v-validate=\"'required|numeric|min:10|max:10'\" type=\"text\" class=\"form-control input\" placeholder=\"Nhập SDT...\">\n                        <span class=\"error\">{{ errors.first(\"phone\") }}</span>\n                    </div>\n                    <div class=\"box\">\n                        <div class=\"box-header\">\n                            <h3 class=\"box-title\">Hình ảnh</h3>\n                            <span class=\"error\">{{ errors.first(\"image\") }}</span>\n                        </div>\n                        <!-- /.box-header -->\n                        <div class=\"box-body\">\n                            <div class=\"uploader\">\n                                <div v-show=\"images.length\" class=\"upload-controller\">\n                                    <label for=\"file\" >Thêm hình</label>\n                                </div>\n                                <div v-show=\"!images.length\" class=\"form-img\">                                      \n                                    <label for=\"file\">Bấm vào đây chọn hình ảnh !</label>\n                                    <input name=\"image\" v-validate=\"'image'\" ref=\"file\" type=\"file\" id=\"file\" v-on:change=\"changeImage\"  multiple>\n                                </div>\n                                <div v-show=\"images.length\" class=\"images-preview\">\n                                    <div v-for=\"(image, index) in images\" :key=\"index\" class=\"img-wrapper\">\n                                        <div class=\"img\" v-bind:style=\"{backgroundImage: 'url('+ api +'/image/product/' + image.name +')'}\"></div>\n                                        <a v-if=\"image.is_default!=1\" v-on:click=\"delImg(index)\">xóa</a>\n                                        <div v-if=\"image.is_default != 1\" class=\"btndefault\">\n                                            <button type=\"button\" v-on:click=\"defaultImage(index)\">Đặt ảnh mặc định</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"box\">\n                        <div class=\"box-header\">\n                            <h3 class=\"box-title\">Nội dung</h3>\n                            <span class=\"error\">{{ errors.first(\"content\") }}</span>\n                        </div>\n                        <!-- /.box-header -->\n                        <div class=\"box-body\">\n                            <vue-editor v-model=\"product.content\" name=\"content\" v-validate=\"'required|min:5'\" :editor-toolbar=\"customToolbar\" />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"box-footer\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Sửa</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Select2 from 'v-select2-component';\nimport slug from \"slug\";\nimport { Validator } from 'vee-validate';\nimport { VueEditor } from \"vue2-editor\";\n\nimport {mapGetters} from \"vuex\";\n\nexport default {\n    metaInfo(){\n\t\treturn {\n\t\t\ttitle: \"Sửa tin\",\n\t\t\thtmlAttrs: {\n\t\t\t\tlang: 'vi',\n\t\t\t\tamp: true\n\t\t\t}\n\t\t}\n\t},\n    components:{Select2, VueEditor},\n    data(){\n        return {\n            components: { Select2, VueEditor},\n            api: this.$store.state.domainApi,\n            product:{\n                id:0,\n                id_category: 'chon-chuyen-muc',\n                id_province:0,\n                id_user:0,\n                name:\"\",\n                url:\"\",\n                address:\"\",\n                price:null,\n                phone:null,\n                content:\"\"\n            },\n            images:[],\n            id_group_image:\"\",\n            province: 'chon-thanh-pho',\n            district: 'chon-quan-huyen',\n            dictionary: {\n                vi: {\n                    custom: {\n                        \"province\":{\n                            numeric : \"Vui lòng chọn tỉnh thành !\"\n                        },\n                        \"district\":{\n                            numeric : \"Vui lòng chọn quận huyện !\"\n                        },\n                        \"address\":{\n                            required: \"Vui lòng nhập địa chỉ !\",\n                            min: \"Địa chỉ tối thiểu 5 ký tự !\",\n                            max: \"Địa chỉ tối đa 255 ký tự !\"\n                        },\n                        \"category\": {\n                            numeric: \"Vui lòng chọn chuyên mục !\"\n                        },\n                        'name' : {\n                            required: 'Vui lòng nhập tiêu đề tin !',\n                            min: 'Tiêu để tin tổi thiểu 5 ký tự !',\n                            max: 'Tiêu đề tin tối đa 60 ký tự !'\n                        },\n                        \"price\": {\n                            required: \"Vui lòng nhập giá !\",\n                            numeric: \"Giá phải là số và không có đấu cách !\",\n                            min_value: \"giá tối thiểu bằng 0\",\n                            max: \"Giá tối đa 15 sô theo chiều ngang !\"\n                        },\n                        \"phone\": {\n                            required: \"Vui lòng nhập SDT !\",\n                            numeric: \"SDT phải là số và không có đấu cách !\",\n                            min: \"SDT phải là 10 số\",\n                            max: \"SDT phải là 10 số\"\n                        },\n                        \"image\":{\n                            image: \"Có file không đúng định dạng ảnh, đã loại bỏ !\"\n                        },\n                        \"content\":{\n                            required: 'Vui lòng nhập nội dung !',\n                            min: 'Nôị dung tổi thiểu 5 ký tự !'\n                        }\n                    }\n                }\n            },\n            customToolbar: [\n                ['bold', 'italic', 'underline'],\n                [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                [{ 'align': ''},{ 'align': 'justify'}, { 'align': 'right' }],\n                ['link', 'video']\n            ]\n        }\n    },\n    methods:{\n        changeImage(e){\n            const files = e.target.files;\n            var image = [];\n            for(var file of files){\n                if(!file.type.match('image.*'))\n                this.flash(`file ${file.name} đã loại bỏ(Không phải hình ảnh) !`, 'error', {\n                    timeout: 3000\n                });\n                \n                image.push(file);\n            }\n            if(image.length){\n                var from = new FormData();\n                from.set(\"id_group_image\", this.id_group_image);\n                image.forEach(e=>from.append(\"image\", e));\n\n                this.$swal.fire({\n                    title: `Đang upload ${image.length} hình ảnh`,\n                    text: \"Vui lòng chờ !\",\n                    allowOutsideClick: false\n                });\n                this.$swal.showLoading();\n\n                axios.put(this.api + \"/auth/addimage\",from)\n                .then(response=>{\n                    this.$swal.close();\n                    if(response.data.success==1){\n                        this.flash(response.data.message, 'success', {\n                            timeout: 3000\n                        });\n                        this.images = response.data.images;\n                        for(var img of response.data.images){\n                            const reader = new FileReader();\n                            reader.onload = (e) => img.urlLocal = e.target.result;\n                            reader.readAsDataURL(file);\n                        }\n                    }else this.flash(response.data.message, 'error', {\n                        timeout: 3000\n                    });\n                })\n            }\n        },\n        delImg(index){\n            this.$swal.fire({\n                title: 'Bạn có muốn xóa hình này không !',\n                text: \"\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                cancelButtonText: 'Không!',\n                confirmButtonText: 'Xóa!'\n            }).then((result) => {\n                if (result.value) {\n                    var image =  this.images[index];\n                    this.images.splice(index, 1);\n                    axios.delete(this.api + \"/auth/deleteimage\",{\n                        headers:{\n                            Authorization: `Bearer ${this.$store.state.token}`\n                        },\n                        params:{\n                            name: image.name,\n                            id_group_image: image.id_group_image\n                        }\n                    })\n                    .then(response=>{\n                        if(response.data.success) this.flash(response.data.message, \"success\", {timeout:3000});\n                        else this.flash(response.data.message, \"error\", {timeout:3000});\n                    })\n                }\n            }); \n        },\n        editProduct(){\n            this.$validator.validate().then(valid => {\n                if (valid) {\n                    const formData = new FormData();\n                    formData.set(\"id\", this.product.id);\n                    formData.append(\"id_province\", this.province);\n                    formData.append(\"id_district\", this.district);\n                    formData.append(\"address\", this.product.address);\n                    formData.append(\"id_category\", this.product.id_category);\n                    formData.append(\"name\", this.product.name);\n                    formData.append(\"url\", slug(this.product.name,'-'));\n                    formData.append(\"price\", this.product.price);\n                    formData.append(\"phone\", this.product.phone);\n                    formData.append(\"content\", this.product.content);\n\n                    axios.patch(`${this.api}/auth/editproduct`, formData,{\n                        headers:{ Authorization: `Bearer ${this.$store.state.token}` }\n                    })\n                    .then(response=>{\n                        if(response.data.success){\n                            this.flash(response.data.message, 'success', {\n                                timeout: 3000\n                            });\n                            this.$router.push({name: \"user.product\"});\n                        }else this.flash(response.data.message, 'error', {\n                            timeout: 3000\n                        });\n                    })\n                }\n            });\n        },\n        number_format( number, decimals, dec_point, thousands_sep ) {\n            var n = number, c = isNaN(decimals = Math.abs(decimals)) ? 2 : decimals;\n            var d = dec_point == undefined ? \",\" : dec_point;\n            var t = thousands_sep == undefined ? \".\" : thousands_sep, s = n < 0 ? \"-\" : \"\";\n            var i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + \"\", j = (j = i.length) > 3 ? j % 3 : 0;\n                                    \n            return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n        },\n        changeProvince(){\n            this.district = 'chon-quan-huyen';\n        },\n        changeDistrict(id){\n            this.product.id_province = id;\n        },\n        loadData(){\n            axios.post(this.api + \"/auth/aboutproduct\",{\n                id: this.$route.params.id,\n                username: this.$store.state.user.username\n            })\n            .then(response=>{\n                if(response.data.about){\n                    this.province = response.data.about.id_province;\n                    this.district = response.data.about.id_district;\n                    this.id_group_image = response.data.about.id_group_image;\n                    this.product.id = response.data.about.id;\n                    this.product.id_category = response.data.about.id_category;\n                    this.product.address = response.data.about.address;\n                    this.product.name = response.data.about.name;\n                    this.product.price = response.data.about.price;\n                    this.product.phone = response.data.about.phone;\n                    this.product.content = response.data.about.content;\n                    this.images = response.data.image;\n                }else this.$router.push({name: 'user.product'});\n            });\n        },\n        defaultImage(index){\n            var image = this.images[index];\n            axios.put(this.api + \"/auth/defaultimage\",{\n                id: image.id,\n                name: image.name,\n                id_group_image: image.id_group_image\n            })\n            .then(response=>{\n                if(response.data.success){\n                    this.flash(response.data.message, \"success\", {\n                        timeout: 3000\n                    });\n                    for(var i=0; i<this.images.length; i++) this.images[i].is_default=0;\n                    this.images[index].is_default = 1;\n                }else this.flash(response.data.message, \"error\", {\n                    timeout: 3000\n                });\n            });\n        }\n    },\n    computed:{\n        ...mapGetters(['getUser','getProvinceByLv', 'getCategorySort'])\n    },\n    created(){\n        Validator.localize(this.dictionary);\n        const validator = new Validator({ first_name: 'alpha' });\n        validator.localize('vi');\n\n        this.loadData();\n    }\n}\n</script>\n\n<style>\n    .error{\n        color: red;\n    }\n    .uploader .images-preview .btndefault{\n        width: 100%;\n        position: absolute;\n        bottom: 11px;\n        left: 0;\n    }\n    .uploader .images-preview .btndefault button{\n        font-size: 13px;\n        background: #40a87ca1;\n        border: none;\n        border-radius: 2px;\n    }\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProduct.vue?vue&type=template&id=bf6371ce&\"\nimport script from \"./EditProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditProduct.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}