(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c64be634"],{"2e71":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[t._m(0),n("div",{staticClass:"box-body"},[n("div",{attrs:{id:"sidebar"}},[n("ul",{attrs:{id:"navigation"}},[n("li",[n("div",{staticClass:"title",on:{click:function(e){return t.add(0)}}},[t._v(" Thêm ")])]),t._l(t.category,(function(e,a){return n("li",{key:"item"+a},[n("Dropdown",{attrs:{item:e,stt:a,category:t.category}})],1)}))],2)])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box-header with-border"},[n("h3",{staticClass:"box-title"},[t._v("Danh sách các danh mục")])])}],s=(n("4de4"),n("b85c")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title",on:{click:function(e){return t.click(t.item.id)}}},[t.item.parent.length?n("i",{class:{"fa fa-chevron-right":!t.isOpenItem,"fa fa-chevron-down":t.isOpenItem}}):t._e(),t._v(" "+t._s(t.item.name)+" ")]),n("div",{staticClass:"control"},[n("a",{staticClass:"add",on:{click:function(e){return t.add(t.item.id)}}},[t._v("Thêm")]),n("a",{staticClass:"edit",on:{click:function(e){return t.edit(t.item.id)}}},[t._v("Sửa")]),n("a",{staticClass:"delete",on:{click:function(e){return t.del(t.stt,t.item.id)}}},[t._v("Xóa")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.item.parent.length,expression:"item.parent.length"}],class:{"sub-items":!0}},t._l(t.item.parent,(function(e,a){return n("li",{key:"item"+a,staticClass:"sub-item"},[n("transition",{attrs:{name:"expand"}},[t.isOpenItem?n("Dropdown",{attrs:{item:e,stt:a,category:t.category}}):t._e()],1)],1)})),0)])},r=[],c=(n("99af"),n("a434"),n("bc3a")),d=n.n(c),u={name:"Dropdown",props:["item","stt","category"],data:function(){return{api:this.$store.state.domainApi,isOpenItem:!1}},methods:{click:function(t){this.isOpenItem=!this.isOpenItem,0==this.isOpenItem&&this.sort(this.$store.state.admin.isOpen,this.item.id);var e=this.$store.state.admin.isOpen;e[t]={id:t,status:this.isOpenItem,parent_id:this.item.parent_id},localStorage.isOpen=JSON.stringify(e)},add:function(t){return this.$router.push({name:"route.admin.category.add2",params:{id:t}})},edit:function(t){return this.$router.push({name:"route.admin.category.edit",params:{id:t}})},del:function(t,e){var n=this;this.$swal.fire({title:"Bạn có muốn xóa danh mục",text:"Xóa toàn bộ danh mục con và sản phẩm",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Không, Chưa xóa !",confirmButtonText:"Có, Xóa hết !"}).then((function(a){a.value&&d.a.delete("".concat(n.api,"/admin/category/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){1===e.data.success?(n.category.splice(t,1),n.flash(e.data.message,"success",{timeout:3e3})):n.flash(e.data.message,"error",{timeout:3e3})})).catch((function(t){console.log(t)}))}))},sort:function(t,e){for(var n in t)t[n].parent_id==e&&(t[n].status=!1,this.sort(t,t[n].id))}},created:function(){this.$store.state.admin.isOpen[this.item.id]&&(this.isOpenItem=this.$store.state.admin.isOpen[this.item.id].status)}},l=u,m=(n("d270"),n("2877")),h=Object(m["a"])(l,o,r,!1,null,null,null),f=h.exports,p={name:"CategoryComponent",metaInfo:{title:"Quản lý danh mục"},components:{Dropdown:f},data:function(){return{api:this.$store.state.domainApi,token:this.$store.state.token,category:[]}},methods:{add:function(t){return this.$router.push({name:"route.admin.category.add2",params:{id:t}})},formatJson:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[],i=Object(s["a"])(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.parent_id===n){var r=this.formatJson(t.filter((function(t){return t.parent_id!=n})),o.id);o.parent=r,a.push(o)}}}catch(c){i.e(c)}finally{i.f()}return a}},created:function(){var t=this;d.a.get("".concat(this.api,"/admin/category"),{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){0!=e.data.success&&(t.category=t.formatJson(e.data))}))}},v=p,g=(n("c237"),Object(m["a"])(v,a,i,!1,null,null,null));e["default"]=g.exports},"425a":function(t,e,n){},"8a2b":function(t,e,n){},c237:function(t,e,n){"use strict";var a=n("425a"),i=n.n(a);i.a},d270:function(t,e,n){"use strict";var a=n("8a2b"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-c64be634.2ae406a6.js.map